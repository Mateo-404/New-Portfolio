---
import { getCollection } from "astro:content"
import PageLayout from "@layouts/PageLayout.astro"
import ArrowCard from "@components/ArrowCard"
import StackCard from "@components/StackCard.astro"
import { SITE, SOCIALS } from "@consts"
import TwinklingStars from "@components/TwinklingStars.astro"
import MeteorShower from "@components/MeteorShower.astro"


const posts = (await getCollection("blog"))
  .filter(post => !post.data.draft)
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  .slice(0,3)

const projects = (await getCollection("projects"))
  .filter(project => !project.data.draft)
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  .slice(0,3)

const stack = [
  { 
    text: "Astro", 
    icon: "astro", 
    href: "https://astro.build" 
  },
  { 
    text: "Javascript", 
    icon: "javascript", 
    href: "https://www.javascript.com" 
  },
  { 
    text: "Typescript", 
    icon: "typescript", 
    href: "https://www.typescriptlang.org" 
  },
  { 
    text: "Tailwind", 
    icon: "tailwind", 
    href: "https://tailwindcss.com" 
  },
]
---

<PageLayout title="Home" description={SITE.DESCRIPTION}>

  <!-- Light Mode: Particles -->
  <div class='absolute inset-0 block dark:hidden'>
    <div id='particles1' class='fixed inset-0'></div>
    <div id='particles2' class='fixed inset-0'></div>
    <div id='particles3' class='fixed inset-0'></div>
  </div>

  <!-- Dark Theme: Stars -->
  <div class='absolute inset-0 bg-black hidden dark:block'>
    <div id='stars1' class='fixed inset-0'></div>
    <div id='stars2' class='fixed inset-0'></div>
    <div id='stars3' class='fixed inset-0'></div>
  </div>

  <!-- Dark Theme: Twinkling Stars / Metors -->
  <div id="galaxy" class="fixed inset-0">
    <div class="hidden dark:block">
      <TwinklingStars/>
      <MeteorShower/>
    </div>
  </div>

  <script is:inline src="/js/bg.js"></script>
  
  <!-- HERO -->
  <section class="relative h-screen w-full">
    <div id="planetcont" class='animate absolute inset-0 top-1/4 overflow-hidden'>
      <div id="crescent" class='absolute top-0 left-1/2 -translate-x-1/2 w-[250vw] min-h-[100vh] aspect-square rounded-full p-[1px] bg-gradient-to-b from-black/25 dark:from-white/75 from-0% to-transparent to-5%'>
        <div id="planet" class='w-full h-full bg-white dark:bg-black rounded-full p-[1px] overflow-hidden flex justify-center'>
          <div id="blur" class='w-full h-20 rounded-full bg-neutral-900/25 dark:bg-white/25 blur-3xl'/>
        </div>
      </div>
    </div>
    <div class="animate absolute h-full w-full flex items-center justify-center">
      <div class='relative w-full h-full flex items-center justify-center'>
        <div class='p-5 text-center'>
          <p class='animated text-lg md:text-xl lg:text-2xl font-semibold opacity-75'>
            Hola, soy...
          </p>
          <h1 class='animated text-2xl md:text-3xl lg:text-4xl font-bold uppercase text-black dark:text-white'>
            Mateo Gariboglio
          </h1>
          <h2 class='animated text-sm md:text-base lg:text-lg opacity-75'>
            Desarrollador de Software 
          </h2>
          <div id="ctaButtons" class='animated flex flex-wrap gap-4 justify-center mt-5'>
            <a target="_blank" href='https://drive.google.com/file/d/1hr6haifLthVsVcxjJERmXdhEY05IpVk6/view?usp=drive_link' class='py-2 px-4 rounded truncate text-xs md:text-sm lg:text-base bg-black dark:bg-white text-white dark:text-black hover:opacity-75 blend'>
              Visualizar CV
            </a>
            <a href='/projects' class='py-2 px-4 truncate rounded text-xs md:text-sm lg:text-base border border-black/25 dark:border-white/25 hover:bg-black/5 hover:dark:bg-white/15 blend'>
              Ver Proyectos
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="relative bg-white dark:bg-black">
    <div class="mx-auto max-w-screen-sm p-5 space-y-24 pb-16">

    <!-- About Section -->
    <section class="animate">
      <article>
        <p>👋 Soy <b>Mateo Gariboglio</b>, <b>Desarrollador de Software</b> y <b>Técnico Universitario en Programación</b>.</p>
        <p>🤩 Me apasiona abordar proyectos complejos que impliquen creatividad, autoexigencia y resolución innovadora de problemas. Mi verdadera pasión es desarrollar <b>backends escalables y seguros</b>, con enfoque en arquitectura de software y optimización del rendimiento.</p>

        <p><b>📚 Experiencia profesional</b></p>
        <p>Trabajé en múltiples proyectos reales, desde sistemas de gestión internos para empresas hasta sitios web institucionales. Estos proyectos me permitieron implementar soluciones completas, desde la base de datos hasta la interfaz de usuario, aplicando buenas prácticas, metodologías ágiles y pensamiento creativo.</p>

        <p><b>💻 En la actualidad</b></p>
        <p>Estoy en busca de oportunidades laborales como <b><i>Desarrollador de Software</i></b>. Me motiva aprender nuevas tecnologías y metodologías, mantenerme actualizado con las últimas tendencias del mercado y aportar valor inmediato a cualquier equipo de desarrollo.</p>

        <p>💪 Si querés potenciar tu equipo con alguien capaz de diseñar soluciones eficientes y escalables, no dudes en ponerte en contacto conmigo.</p>
      </article>
    </section>

      
      <!-- Project Preview Section -->
      <section class="animate">
        <div class="space-y-4">
          <div class="flex justify-between">
            <h3 class="font-semibold text-black dark:text-white">
              Proyectos Recientes 🚀
            </h3>
            <a href="/projects" class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">
              <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
                Ver Todo
              </span>
            </a>
          </div>
          <ul class="space-y-4">
            {projects.map((project) => (
              <li>
                <ArrowCard entry={project} />
              </li>
            ))}
          </ul>
        </div>
      </section>
      <!-- Blog Preview Section -->
      <section class="animate">
        <div class="space-y-4 mt-5">
          <div class="flex justify-between">
            <p class="font-semibold text-black dark:text-white">
              Certificados recientes 🎓
            </p>
            <a href="/blog" class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">
              <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
                Ver todo
              </span>
            </a>
          </div>
          <ul class="space-y-4">
            {posts.map((post) => (
              <li>
                <ArrowCard entry={post} />
              </li>
            ))}
          </ul>
        </div>
      </section>


      <!-- Contact Section -->
      <section class="animate">
        <div>
          <p class="font-semibold text-black dark:text-white mt-5">
            ¡Pongamosnos en contacto! 
          </p>
          <p>
            Podés ponerte en contacto conmigo a través de correo electrónico o en redes sociales.
          </p>
          <div class="grid grid-cols-4 gap-y-2 mt-4 auto-cols-min">
            {SOCIALS.map(social => (
              <div class="col-span-1 flex items-center gap-1">
                <span class="whitespace-nowrap truncate">
                  {social.NAME}
                </span>
              </div>
              <div class="col-span-3 truncate">
                <a href={social.HREF} target="_blank" class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">
                  <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
                    {social.TEXT}
                  </span>
                </a>
              </div>
            ))}
        </div>
      </section>

      <!-- Tech Stack Section -->
      <section class="animate">
        <div>
            <div class="space-y-4">
              <p class="font-semibold text-black dark:text-white mt-7">
                Sitio web desarrollado con
              </p>
              <div class="flex flex-wrap items-center gap-2 mt-5">
                {stack.map(item => (
                  <StackCard 
                    text={item.text}
                    icon={item.icon}
                    href={item.href}
                  />
                ))}
              </div>
            <p class="mt-3">Para una óptima performance y rendimiento se utilizó</p>
            <a href="https://www.solidjs.com/" target="_blank" class="w-fit group underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">
              <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
                SolidJS
              </span>
            </a>
          </div>
        </div>
      </section>
    </div>
  </div>
</PageLayout>
